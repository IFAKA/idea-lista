<?xml version="1.0" encoding="UTF-8"?>
<svg width="900" height="600" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font-family: Arial, sans-serif; font-size: 24px; font-weight: bold; fill: #2c3e50; }
      .subtitle { font-family: Arial, sans-serif; font-size: 16px; font-weight: bold; fill: #34495e; }
      .text { font-family: Arial, sans-serif; font-size: 12px; fill: #2c3e50; }
      .box { fill: #ecf0f1; stroke: #bdc3c7; stroke-width: 2; }
      .start-box { fill: #3498db; stroke: #2980b9; stroke-width: 2; }
      .process-box { fill: #e74c3c; stroke: #c0392b; stroke-width: 2; }
      .decision-box { fill: #f39c12; stroke: #e67e22; stroke-width: 2; }
      .end-box { fill: #2ecc71; stroke: #27ae60; stroke-width: 2; }
      .arrow { stroke: #7f8c8d; stroke-width: 3; fill: none; marker-end: url(#arrowhead); }
      .user-box { fill: #9b59b6; stroke: #8e44ad; stroke-width: 2; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#7f8c8d" />
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="450" y="30" text-anchor="middle" class="title">User Workflow - Property Search Journey</text>
  
  <!-- Start -->
  <rect x="50" y="60" width="120" height="60" rx="10" class="start-box"/>
  <text x="110" y="95" text-anchor="middle" class="subtitle" fill="white">Start</text>
  <text x="110" y="110" text-anchor="middle" class="text" fill="white">Browse Idealista</text>
  
  <!-- Browse Properties -->
  <rect x="220" y="60" width="120" height="60" rx="10" class="process-box"/>
  <text x="280" y="85" text-anchor="middle" class="subtitle" fill="white">Browse</text>
  <text x="280" y="100" text-anchor="middle" class="text" fill="white">Properties</text>
  <text x="280" y="115" text-anchor="middle" class="text" fill="white">on Idealista</text>
  
  <!-- Analysis -->
  <rect x="390" y="60" width="120" height="60" rx="10" class="process-box"/>
  <text x="450" y="85" text-anchor="middle" class="subtitle" fill="white">Automatic</text>
  <text x="450" y="100" text-anchor="middle" class="text" fill="white">Analysis</text>
  <text x="450" y="115" text-anchor="middle" class="text" fill="white">& Scoring</text>
  
  <!-- Score Decision -->
  <polygon points="560,60 620,90 560,120" class="decision-box"/>
  <text x="590" y="95" text-anchor="middle" class="subtitle" fill="white">Score</text>
  <text x="590" y="110" text-anchor="middle" class="text" fill="white">≥ 60?</text>
  
  <!-- Add Property -->
  <rect x="670" y="60" width="120" height="60" rx="10" class="process-box"/>
  <text x="730" y="85" text-anchor="middle" class="subtitle" fill="white">Add to</text>
  <text x="730" y="100" text-anchor="middle" class="text" fill="white">Collection</text>
  <text x="730" y="115" text-anchor="middle" class="text" fill="white">(Click +)</text>
  
  <!-- Continue Browsing -->
  <rect x="670" y="160" width="120" height="60" rx="10" class="process-box"/>
  <text x="730" y="185" text-anchor="middle" class="subtitle" fill="white">Continue</text>
  <text x="730" y="200" text-anchor="middle" class="text" fill="white">Browsing</text>
  <text x="730" y="215" text-anchor="middle" class="text" fill="white">More Properties</text>
  
  <!-- Manage Collection -->
  <rect x="390" y="160" width="120" height="60" rx="10" class="user-box"/>
  <text x="450" y="185" text-anchor="middle" class="subtitle" fill="white">Open</text>
  <text x="450" y="200" text-anchor="middle" class="text" fill="white">Property</text>
  <text x="450" y="215" text-anchor="middle" class="text" fill="white">Manager</text>
  
  <!-- Review Properties -->
  <rect x="220" y="160" width="120" height="60" rx="10" class="process-box"/>
  <text x="280" y="185" text-anchor="middle" class="subtitle" fill="white">Review</text>
  <text x="280" y="200" text-anchor="middle" class="text" fill="white">Collection</text>
  <text x="280" y="215" text-anchor="middle" class="text" fill="white">Sorted by Score</text>
  
  <!-- Best Property Analysis -->
  <rect x="50" y="160" width="120" height="60" rx="10" class="process-box"/>
  <text x="110" y="185" text-anchor="middle" class="subtitle" fill="white">Analyze</text>
  <text x="110" y="200" text-anchor="middle" class="text" fill="white">Best</text>
  <text x="110" y="215" text-anchor="middle" class="text" fill="white">Property</text>
  
  <!-- Decision Point -->
  <polygon points="50,260 110,290 50,320" class="decision-box"/>
  <text x="80" y="295" text-anchor="middle" class="subtitle" fill="white">Ready to</text>
  <text x="80" y="310" text-anchor="middle" class="text" fill="white">Decide?</text>
  
  <!-- Export Data -->
  <rect x="220" y="260" width="120" height="60" rx="10" class="process-box"/>
  <text x="280" y="285" text-anchor="middle" class="subtitle" fill="white">Export</text>
  <text x="280" y="300" text-anchor="middle" class="text" fill="white">Data to</text>
  <text x="280" y="315" text-anchor="middle" class="text" fill="white">TSV/Excel</text>
  
  <!-- Contact Properties -->
  <rect x="390" y="260" width="120" height="60" rx="10" class="process-box"/>
  <text x="450" y="285" text-anchor="middle" class="subtitle" fill="white">Contact</text>
  <text x="450" y="300" text-anchor="middle" class="text" fill="white">Top</text>
  <text x="450" y="315" text-anchor="middle" class="text" fill="white">Properties</text>
  
  <!-- Visit Properties -->
  <rect x="560" y="260" width="120" height="60" rx="10" class="process-box"/>
  <text x="620" y="285" text-anchor="middle" class="subtitle" fill="white">Schedule</text>
  <text x="620" y="300" text-anchor="middle" class="text" fill="white">Property</text>
  <text x="620" y="315" text-anchor="middle" class="text" fill="white">Visits</text>
  
  <!-- Make Decision -->
  <rect x="730" y="260" width="120" height="60" rx="10" class="end-box"/>
  <text x="790" y="285" text-anchor="middle" class="subtitle" fill="white">Make</text>
  <text x="790" y="300" text-anchor="middle" class="text" fill="white">Final</text>
  <text x="790" y="315" text-anchor="middle" class="text" fill="white">Decision</text>
  
  <!-- Arrows -->
  <line x1="170" y1="90" x2="220" y2="90" class="arrow"/>
  <line x1="340" y1="90" x2="390" y2="90" class="arrow"/>
  <line x1="510" y1="90" x2="560" y2="90" class="arrow"/>
  <line x1="620" y1="90" x2="670" y2="90" class="arrow"/>
  <line x1="620" y1="120" x2="670" y2="190" class="arrow"/>
  <line x1="730" y1="120" x2="450" y2="190" class="arrow"/>
  <line x1="450" y1="190" x2="340" y2="190" class="arrow"/>
  <line x1="340" y1="190" x2="170" y2="190" class="arrow"/>
  <line x1="170" y1="190" x2="110" y2="290" class="arrow"/>
  <line x1="110" y1="320" x2="220" y2="320" class="arrow"/>
  <line x1="340" y1="320" x2="390" y2="320" class="arrow"/>
  <line x1="510" y1="320" x2="560" y2="320" class="arrow"/>
  <line x1="680" y1="320" x2="730" y2="320" class="arrow"/>
  
  <!-- Arrow Labels -->
  <text x="195" y="85" text-anchor="middle" class="text">Browse</text>
  <text x="365" y="85" text-anchor="middle" class="text">Analyze</text>
  <text x="535" y="85" text-anchor="middle" class="text">Score</text>
  <text x="645" y="85" text-anchor="middle" class="text">Add</text>
  <text x="645" y="155" text-anchor="middle" class="text">Skip</text>
  <text x="590" y="155" text-anchor="middle" class="text">Manage</text>
  <text x="395" y="175" text-anchor="middle" class="text">Review</text>
  <text x="245" y="175" text-anchor="middle" class="text">Analyze</text>
  <text x="95" y="275" text-anchor="middle" class="text">Ready?</text>
  <text x="165" y="315" text-anchor="middle" class="text">Export</text>
  <text x="385" y="315" text-anchor="middle" class="text">Contact</text>
  <text x="565" y="315" text-anchor="middle" class="text">Visit</text>
  <text x="755" y="315" text-anchor="middle" class="text">Decide</text>
  
  <!-- Detailed Steps -->
  <rect x="50" y="360" width="800" height="200" rx="10" class="box"/>
  <text x="450" y="385" text-anchor="middle" class="subtitle">Detailed Workflow Steps</text>
  
  <!-- Step 1 -->
  <rect x="70" y="400" width="180" height="80" rx="5" fill="#3498db" stroke="#2980b9" stroke-width="2"/>
  <text x="160" y="420" text-anchor="middle" class="subtitle" fill="white">Step 1: Browse</text>
  <text x="80" y="440" class="text" fill="white">• Visit Idealista.com</text>
  <text x="80" y="455" class="text" fill="white">• Search properties</text>
  <text x="80" y="470" class="text" fill="white">• Extension auto-analyzes</text>
  
  <!-- Step 2 -->
  <rect x="270" y="400" width="180" height="80" rx="5" fill="#e74c3c" stroke="#c0392b" stroke-width="2"/>
  <text x="360" y="420" text-anchor="middle" class="subtitle" fill="white">Step 2: Analyze</text>
  <text x="280" y="440" class="text" fill="white">• Automatic data extraction</text>
  <text x="280" y="455" class="text" fill="white">• Intelligent scoring (0-100)</text>
  <text x="280" y="470" class="text" fill="white">• Color-coded results</text>
  
  <!-- Step 3 -->
  <rect x="470" y="400" width="180" height="80" rx="5" fill="#2ecc71" stroke="#27ae60" stroke-width="2"/>
  <text x="560" y="420" text-anchor="middle" class="subtitle" fill="white">Step 3: Collect</text>
  <text x="480" y="440" class="text" fill="white">• Add promising properties</text>
  <text x="480" y="455" class="text" fill="white">• Score ≥ 60 recommended</text>
  <text x="480" y="470" class="text" fill="white">• One-click addition</text>
  
  <!-- Step 4 -->
  <rect x="670" y="400" width="180" height="80" rx="5" fill="#f39c12" stroke="#e67e22" stroke-width="2"/>
  <text x="760" y="420" text-anchor="middle" class="subtitle" fill="white">Step 4: Manage</text>
  <text x="680" y="440" class="text" fill="white">• Review collection</text>
  <text x="680" y="455" class="text" fill="white">• Compare properties</text>
  <text x="680" y="470" class="text" fill="white">• Export data</text>
  
  <!-- Best Practices -->
  <rect x="70" y="500" width="780" height="40" rx="5" fill="#9b59b6" stroke="#8e44ad" stroke-width="2"/>
  <text x="460" y="520" text-anchor="middle" class="subtitle" fill="white">Best Practices: Focus on 70+ scores | Export regularly | Contact top 3-5 properties | Schedule visits efficiently</text>
</svg>

<?xml version="1.0" encoding="UTF-8"?>
<svg width="800" height="600" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font-family: Arial, sans-serif; font-size: 24px; font-weight: bold; fill: #2c3e50; }
      .subtitle { font-family: Arial, sans-serif; font-size: 16px; font-weight: bold; fill: #34495e; }
      .text { font-family: Arial, sans-serif; font-size: 12px; fill: #2c3e50; }
      .box { fill: #ecf0f1; stroke: #bdc3c7; stroke-width: 2; }
      .input-box { fill: #3498db; stroke: #2980b9; stroke-width: 2; }
      .process-box { fill: #e74c3c; stroke: #c0392b; stroke-width: 2; }
      .output-box { fill: #2ecc71; stroke: #27ae60; stroke-width: 2; }
      .arrow { stroke: #7f8c8d; stroke-width: 3; fill: none; marker-end: url(#arrowhead); }
      .score-box { fill: #f39c12; stroke: #e67e22; stroke-width: 2; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#7f8c8d" />
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="400" y="30" text-anchor="middle" class="title">Scoring Algorithm Flow</text>
  
  <!-- Input Data -->
  <rect x="50" y="60" width="150" height="100" rx="10" class="input-box"/>
  <text x="125" y="85" text-anchor="middle" class="subtitle" fill="white">Property Data</text>
  <text x="60" y="105" class="text" fill="white">â€¢ Price: â‚¬1,200</text>
  <text x="60" y="120" class="text" fill="white">â€¢ Size: 75mÂ²</text>
  <text x="60" y="135" class="text" fill="white">â€¢ Rooms: 2</text>
  <text x="60" y="150" class="text" fill="white">â€¢ Bathrooms: 1</text>
  
  <!-- Configuration -->
  <rect x="250" y="60" width="150" height="100" rx="10" class="input-box"/>
  <text x="325" y="85" text-anchor="middle" class="subtitle" fill="white">User Config</text>
  <text x="260" y="105" class="text" fill="white">â€¢ Price Range: â‚¬800-1500</text>
  <text x="260" y="120" class="text" fill="white">â€¢ Size Range: 50-100mÂ²</text>
  <text x="260" y="135" class="text" fill="white">â€¢ Weights: Essential/Valuable</text>
  <text x="260" y="150" class="text" fill="white">â€¢ Property Type: Vivienda</text>
  
  <!-- Scoring Process -->
  <rect x="450" y="60" width="150" height="100" rx="10" class="process-box"/>
  <text x="525" y="85" text-anchor="middle" class="subtitle" fill="white">Scoring Engine</text>
  <text x="460" y="105" class="text" fill="white">â€¢ Feature Extraction</text>
  <text x="460" y="120" class="text" fill="white">â€¢ Weight Application</text>
  <text x="460" y="135" class="text" fill="white">â€¢ Range Validation</text>
  <text x="460" y="150" class="text" fill="white">â€¢ Score Calculation</text>
  
  <!-- Output -->
  <rect x="650" y="60" width="150" height="100" rx="10" class="output-box"/>
  <text x="725" y="85" text-anchor="middle" class="subtitle" fill="white">Final Score</text>
  <text x="660" y="105" class="text" fill="white">â€¢ Total Score: 85/100</text>
  <text x="660" y="120" class="text" fill="white">â€¢ Category: Excellent</text>
  <text x="660" y="135" class="text" fill="white">â€¢ Color: Green</text>
  <text x="660" y="150" class="text" fill="white">â€¢ Recommendation: Act Fast!</text>
  
  <!-- Arrows -->
  <line x1="200" y1="110" x2="250" y2="110" class="arrow"/>
  <line x1="400" y1="110" x2="450" y2="110" class="arrow"/>
  <line x1="600" y1="110" x2="650" y2="110" class="arrow"/>
  
  <!-- Scoring Breakdown -->
  <rect x="50" y="200" width="700" height="300" rx="10" class="box"/>
  <text x="400" y="225" text-anchor="middle" class="subtitle">Detailed Scoring Breakdown</text>
  
  <!-- Price Scoring -->
  <rect x="70" y="240" width="150" height="80" rx="5" class="score-box"/>
  <text x="145" y="260" text-anchor="middle" class="subtitle" fill="white">Price Score</text>
  <text x="80" y="280" class="text" fill="white">â€¢ Value: â‚¬1,200</text>
  <text x="80" y="295" class="text" fill="white">â€¢ Range: â‚¬800-1500</text>
  <text x="80" y="310" class="text" fill="white">â€¢ Weight: Essential (2)</text>
  <text x="80" y="325" class="text" fill="white">â€¢ Score: 18/20</text>
  
  <!-- Size Scoring -->
  <rect x="240" y="240" width="150" height="80" rx="5" class="score-box"/>
  <text x="315" y="260" text-anchor="middle" class="subtitle" fill="white">Size Score</text>
  <text x="250" y="280" class="text" fill="white">â€¢ Value: 75mÂ²</text>
  <text x="250" y="295" class="text" fill="white">â€¢ Range: 50-100mÂ²</text>
  <text x="250" y="310" class="text" fill="white">â€¢ Weight: Essential (2)</text>
  <text x="250" y="325" class="text" fill="white">â€¢ Score: 16/20</text>
  
  <!-- Rooms Scoring -->
  <rect x="410" y="240" width="150" height="80" rx="5" class="score-box"/>
  <text x="485" y="260" text-anchor="middle" class="subtitle" fill="white">Rooms Score</text>
  <text x="420" y="280" class="text" fill="white">â€¢ Value: 2 rooms</text>
  <text x="420" y="295" class="text" fill="white">â€¢ Range: 1-3 rooms</text>
  <text x="420" y="310" class="text" fill="white">â€¢ Weight: Essential (2)</text>
  <text x="420" y="325" class="text" fill="white">â€¢ Score: 20/20</text>
  
  <!-- Bathrooms Scoring -->
  <rect x="580" y="240" width="150" height="80" rx="5" class="score-box"/>
  <text x="655" y="260" text-anchor="middle" class="subtitle" fill="white">Bathrooms</text>
  <text x="590" y="280" class="text" fill="white">â€¢ Value: 1 bathroom</text>
  <text x="590" y="295" class="text" fill="white">â€¢ Range: 1-2 bathrooms</text>
  <text x="590" y="310" class="text" fill="white">â€¢ Weight: Essential (2)</text>
  <text x="590" y="325" class="text" fill="white">â€¢ Score: 16/20</text>
  
  <!-- Amenities Scoring -->
  <rect x="70" y="340" width="150" height="80" rx="5" class="score-box"/>
  <text x="145" y="360" text-anchor="middle" class="subtitle" fill="white">Heating</text>
  <text x="80" y="380" class="text" fill="white">â€¢ Available: Yes</text>
  <text x="80" y="395" class="text" fill="white">â€¢ Weight: Essential (2)</text>
  <text x="80" y="410" class="text" fill="white">â€¢ Score: 20/20</text>
  
  <!-- Elevator Scoring -->
  <rect x="240" y="340" width="150" height="80" rx="5" class="score-box"/>
  <text x="315" y="360" text-anchor="middle" class="subtitle" fill="white">Elevator</text>
  <text x="250" y="380" class="text" fill="white">â€¢ Available: Yes</text>
  <text x="250" y="395" class="text" fill="white">â€¢ Weight: Essential (2)</text>
  <text x="250" y="410" class="text" fill="white">â€¢ Score: 20/20</text>
  
  <!-- Furnished Scoring -->
  <rect x="410" y="340" width="150" height="80" rx="5" class="score-box"/>
  <text x="485" y="360" text-anchor="middle" class="subtitle" fill="white">Furnished</text>
  <text x="420" y="380" class="text" fill="white">â€¢ Available: No</text>
  <text x="420" y="395" class="text" fill="white">â€¢ Weight: Valuable (1)</text>
  <text x="420" y="410" class="text" fill="white">â€¢ Score: 0/10</text>
  
  <!-- Parking Scoring -->
  <rect x="580" y="340" width="150" height="80" rx="5" class="score-box"/>
  <text x="655" y="360" text-anchor="middle" class="subtitle" fill="white">Parking</text>
  <text x="590" y="380" class="text" fill="white">â€¢ Available: Yes</text>
  <text x="590" y="395" class="text" fill="white">â€¢ Weight: Valuable (1)</text>
  <text x="590" y="410" class="text" fill="white">â€¢ Score: 10/10</text>
  
  <!-- Total Calculation -->
  <rect x="200" y="450" width="400" height="40" rx="5" fill="#9b59b6" stroke="#8e44ad" stroke-width="2"/>
  <text x="400" y="470" text-anchor="middle" class="subtitle" fill="white">Total Score: 120/140 = 85.7% (Excellent)</text>
  
  <!-- Formula -->
  <text x="400" y="520" text-anchor="middle" class="text">Formula: Î£(Feature_Weight Ã— Feature_Score) / Max_Possible_Score Ã— 100</text>
  <text x="400" y="540" text-anchor="middle" class="text">Max Possible Score = Sum of all relevant feature weights</text>
  <text x="400" y="560" text-anchor="middle" class="text">Score Categories: ðŸŸ¢ Excellent (80-100) | ðŸ”µ Good (60-79) | ðŸŸ¡ Average (40-59) | ðŸ”´ Poor (0-39)</text>
</svg>
